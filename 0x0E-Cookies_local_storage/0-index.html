<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>0-index.html</title>
</head>
<body>

    <h1>Login to the website</h1>

    <!-- input tags wuth type='text' -->
    <input id="firstname" placeholder="firstname" type="text">
    <input id="email" placeholder="email" type="text">

    <!-- buttons and cookies title -->
    <button onclick="setCookies()">Log me in</button>
    <h1>Cookies</h1>
    <button onclick="showCookies()">Show the cookies</button>

    <!-- script -->
    <script type="application/javascript">
       
       // function to set cookies
        function setCookies(){
            document.cookie = "firstname=" + document.getElementById("firstname").value;
            document.cookie = "email=" + document.getElementById("email").value;
        }

        // function to show cookies
        function showCookies(){
            myCookies = convertCookies(document.cookie);
            var element = document.getElementsByTagName("body")[0];
            const p = document.createElement("p");

            for(const property in myCookies){
                span = document.createElement("li")
                span.style.listStyle = "none";
                text = document.createTextNode(`${property}: ${myCookies[property]}`);
                span.appendChild(text)
                p.appendChild(span);
                // console.log(`${property}: ${myCookies[property]}`);
            }
            element.appendChild(p);
        }

        // function to convert cookies str into obj types
        function convertCookies(str){
            str = str.split('; ');
            var result = {};    
            for (var i = 0; i < str.length; i++) {
                var cur = str[i].split('=');
                result[cur[0]] = cur[1];
            }
            return(result);
        }

    </script>
</body>
</html>
