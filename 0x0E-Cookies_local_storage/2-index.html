<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2-index.html</title>
</head>
<body>

    <h1>Login to the website</h1>

    <!-- input tags wuth type='text' -->
    <input id="firstname" placeholder="firstname" type="text">
    <input id="email" placeholder="email" type="text">

    <!-- buttons and cookies title -->
    <button onclick="setCookies()">Log me in</button>
    <h1>Cookies</h1>
    <button onclick="showCookies()">Show the cookies</button>

    <!-- script -->
    <script type="application/javascript">
       
       // function to set cookies
        function setCookies(){
            day10 = new Date();
            day10 = day10.setDate(day10.getDate() + 10);
            fecha = new Date(day10);
            fecha = fecha.toUTCString();
            document.cookie = "firstname=" + document.getElementById("firstname").value + "; expires=" + fecha;
            document.cookie = "email=" + document.getElementById("email").value + "; expires=" + fecha;
        }

        // function to show cookies
        function showCookies(){
            // creating tags            
            var element = document.getElementsByTagName("body")[0];
            var p = document.createElement("p");

            // getting cookies
            let email = getCookie("email");
            let firstname = getCookie("firstname");

            // creating text node
            text = document.createTextNode(`Email: ${email} - Firstname: ${firstname}`);

            // appending tags
            p.appendChild(text);
            element.appendChild(p);
        }

        function getCookie(name){
            myCookies = convertCookies(document.cookie);
            result = "";

            if (myCookies[name]){
                result = myCookies[name];
            }
            return result;
        }

        // function to convert cookies str into obj types
        function convertCookies(str){
            str = str.split('; ');
            var result = {};    
            for (var i = 0; i < str.length; i++) {
                var cur = str[i].split('=');
                result[cur[0]] = cur[1];
            }
            return(result);
        }

    </script>
</body>
</html>
